# Development of the new Brook framework.

* Version number: `4.0`
* Codename: `Tardigrade`
* Core under [Sagui library](https://risoflora.github.io/libsagui/)
    * shared library - dynamic loading, single external file required (`libsagui.so`/`libsagui.dll`)

# Supported platforms:

It was successfully tested on:

* Windows [32/64 bits]
* Linux [32/64 bits]
* Raspbian [i686; `arm-linux-gnueabihf`/`armv6-linux-gnueabihf`]
* Android [tested on version `7.1.2`; API `24`; ABI `armeabi-v7a`]

# Suported compilers

Successfully compiled for Windows 32/64 bit and Linux 64 bit using:
* Delphi XE family (tested in Delphi Tokyo)
* Lazarus / Free Pascal (tested in Lazarus 1.8.4 / FPC 3.0.4)

# Dependence

* Shared library generated by front ends:
    * GCC (latest stable version)
    * CLang (latest stable version)

Planning library distribution:

* APT (Ubuntu repositories)
* Pacman (MinGW-w64 repositories)

# Distribution / installation

* Github branch

Planning package distribution/installation:
 
* Github releasing
* GetIt (Delphi)
* OPM (Lazarus)
* From sources

# Currently available

Units:

* ~~`BrookLibraryLoader` - allows to customize the path for library loading.~~ (Done!)
* ~~`BrookUtils` - useful routines and structures.~~ (Done!)
* ~~`BrookString` - low-level string handling.~~ (Done!)
* ~~`BrookStringMap` - mapped strings for fast name-value handling.~~ (Done!)
* `BrookRouter` - high-performance path routing. (In progress...)
* `BrookHTTPRouter` - high-performance URL routing. (In progress...)
* `BrookHTTPServer` - fast event-driven HTTP server. (Documenting/testing ...)

Classes:

* ~~`TBrookLibraryLoader` - used to customize the path for library loading.~~ (Done!)
* ~~`TBrookString` - used to represent a HTML body, POST payload and more.~~ (Done!)
* ~~`TBrookStringMap` - used to represent HTML fields, query-string parameters and more.~~ (Done!)
* `TBrookRouter` - lightweight high-performance path router. (In progress...)
* `TBrookHTTPRouter` - lightweight high-performance URL router. (In progress...)
* `TBrookHTTPServer` - event-driven HTTP server that supports to handle many requests and upload/download large files. (Documenting/testing ...)

Packages:

* `BrookFramework40.dpk` - Delphi package. (In progress...)
* `BrookFramework40.lpk` - Lazarus package. (In progress...)

Examples:

* ~~`BrookUtils_Example` - utility functions example.~~ (Done!)
* ~~`BrookString_Example` - string class example.~~ (Done!)
* ~~`BrookStringMap_Example` - string map example.~~ (Done!)
* `BrookRouter_Example` - path routing example. (In progress!)
* `BrookHTTPRouter_Example` - URL routing example. (In progress!)
* ~~`BrookHTTPServer_Example` - HTTP server example.~~ (Done!)
* `BrookHTTPSServer_Example` - HTTPS server example. (In progress!)

Testings:

* ~~`TestLibraryLoader` - library loader tests.~~ (Done!)
* ~~`TestUtils` - utility tests.~~ (Done!)
* ~~`TestString` - string class tests.~~ (Done!)
* ~~`TestStringMap` - string map tests.~~ (Done!)
* `TestRouter` - Path router tests. (In progress...)
* `TestHTTPRouter` - URL router tests. (In progress...)
* `TestHTTPServer` - HTTP server tests. (In progress...)
* `TestRouter` - Router tests. (In progress...)

Documentation:

* ~~`BrookLibraryLoader` - library loader reference [HTML/PDF].~~ (Done!)
* ~~`BrookUtils` - utility functions reference [HTML/PDF].~~ (Done!)
* ~~`BrookString` - string class reference [HTML/PDF].~~ (Done!)
* ~~`BrookStringMap` - string map reference [HTML/PDF].~~ (Done!)
* `BrookRouter` - Path router reference [HTML/PDF]. (In progress...)
* `BrookHTTPRouter` - URL router reference [HTML/PDF]. (In progress...)
* `BrookHTTPServer` - HTTP server reference [HTML/PDF]. (In progress...)

Bugs:

* Free Pascal common missing routines/types - all issued at its bugtracker.
* Delphi unit encoding - unwanted UTF8 BOM when saving unit files.